# Калькулятор на стандартных браузерных модальных окнах. Часть 4.

Не знаю, как у вас, а у меня решение[(link)](../prompt-calculator-3/answer/index.js) 
предыдущей задачи[(link)](../prompt-calculator-3) выглядит очень громоздким.

Нужно рефакторить код, иначе потом его невозможно будет поддерживать, если понадобится.

> Далее идут пункты рефакторинга, актуальные для моего решения.

1. Мне не нравится дублирование кода в математических функциях: проверка аргументов и
выброс исключения каждый раз выглядит одинаково, а значит, эту часть вполне можно
попоробовать изолировать.

2. Функция `isInvalidAction` проверяет, что переданный аргумент вообще является одним
из значений, который преобразуются в `false`, хотя назначение у неё изначально другое.

3. 3 раза повторяется цикл `while` - нарушаем DRY. И это не тот случай, когда на это
можно закрыть глаза.

4. Часть функций и переменных находится вне функции `runCalculator`, хотя по факту они
нам могут больше никогда и нигде не пригодиться в проекте, в отличие от математических
функций.

5. Особо внимательные и тестировщики могли заметить: если при вводе аргументов
нажать `Esc` или `Enter`(при пустой строке), то `prompt` окно не появляется снова - 
происходит переход к следующему окну. Ошибочка!